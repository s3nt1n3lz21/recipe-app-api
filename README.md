# recipe-app-api
Recipe API

# Structure

                   AWS EC2 Instance
┌─────────────────────────────────────────────────────────┐
│                                                         │
│  ┌───────────────────────────────────────────────────┐  │
│  │                  Volumes                          │  │
│  │ ┌──────────────┐ ┌─────────────┐ ┌─────────────┐  │  │
│  │ │Postgres Data │ │Static Files │ │ Media Files │  │  │
│  │ └──────▲───────┘ └───▲───▲─────┘ └─▲────▲──────┘  │  │
│  │        │             │   │         │    │         │  │
│  └────────┼─────────────┼───┼─────────┼────┼─────────┘  │
│           │             │   │         │    │            │
│           │             │   └─────────┼─┐  │            │
│           │             │             │ │  │            │
│           │             ├─────────────┘ │  │            │
│           │             │               │  │            │
│           │             │     ┌─────────┴──┴───────┐    │
│   ┌───────┴────┐        │     │   uWSGI App Server │    │
│   │  Dockerised│        │     │  ┌─────────────┐   │    │
│   │  PostGres  │        │     │  │  Dockerised │   │    │
│   │  Database  │        │     │  │  Python     │   │    │
│   │            │        │     │  │  Django API │   │    │
│   └──────▲─────┘        │     │  │  App        │   │    │
│          │              │     │  └─────────────┘   │    │
│          │              │     │                    │    │
│          │              │     └──────────▲─────────┘    │
│          │              │                │              │
│          │              │                │              │
│          │       ┌──────▼─────────┐      │              │
│          │       │  Dockerised    │      │              │
│          └───────┤  Nginx Reverse ├──────┘              │
│                  │  Proxy         │                     │
│                  │  Server        │                     │
│                  └───────▲────────┘                     │
│                          │                              │
│                          │                              │
│                          │                              │
└──────────────────────────┼──────────────────────────────┘
                           │

# Testing
Run unit tests on the dockerised app using

docker-compose run --rm app sh -c "python manage.py test"


